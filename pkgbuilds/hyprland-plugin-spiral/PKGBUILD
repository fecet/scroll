pkgname=hyprland-plugin-spiral
pkgver=0.51.0
pkgrel=1
pkgdesc="Spiral layout plugin for Hyprland"
arch=('x86_64' 'aarch64')
url="https://github.com/fecet/hyprspiral"
license=('MIT')
depends=("hyprland-spiral=${pkgver}")
makedepends=('git' 'cmake' 'hyprland-spiral')
source=("git+${url}")
sha256sums=('SKIP')

pkgver() {
	cat "$srcdir/hyprspiral/Hyprland/VERSION" | head -n1
}

build() {
	cd "$srcdir/hyprspiral/hyprscroller"
	make release PREFIX=/usr
}

package() {
	install -Dm0755 "$srcdir/hyprspiral/hyprscroller/hyprscroller.so" \
		"$pkgdir/usr/lib/hyprland/plugins/hyprspiral.so"
}